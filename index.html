<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SaaS Pessoal v2</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://unpkg.com/lucide@latest"></script>
</head>

<body class="bg-black text-white flex justify-center">

<div class="w-full max-w-md min-h-screen bg-[#121418] relative pb-24">

<!-- =======================================================
HEADER
======================================================= -->
<header class="p-6 flex justify-between items-center">
  <h1 id="header-title" class="text-xl font-bold">Home</h1>
  <span id="plan-badge" class="text-xs bg-blue-500 px-2 py-1 rounded">Free</span>
</header>

<!-- =======================================================
HOME
======================================================= -->
<div id="page-home" class="page p-6 space-y-4">

<div class="bg-[#1E2128] p-4 rounded">
<h2 class="text-gray-400 text-sm">Saldo</h2>
<p id="home-balance" class="text-2xl font-bold">R$ 0</p>
</div>

<div class="bg-[#1E2128] p-4 rounded">
<h2 class="text-gray-400 text-sm">√Ågua Hoje</h2>
<p id="home-water"></p>
</div>

<div class="bg-[#1E2128] p-4 rounded">
<h2 class="text-gray-400 text-sm">Cafe√≠na Hoje</h2>
<p id="home-caffeine"></p>
</div>

<div class="bg-[#1E2128] p-4 rounded">
<h2 class="text-gray-400 text-sm">Prop√≥sito Ativo</h2>
<p id="home-purpose"></p>
</div>

</div>

<!-- =======================================================
SA√öDE
======================================================= -->
<div id="page-saude" class="page hidden p-6 space-y-4">

<h2 class="font-bold">√Ågua</h2>
<p id="water-progress"></p>
<button onclick="drinkWater('home')" class="bg-blue-500 px-3 py-2 rounded">Copo Casa</button>
<button onclick="drinkWater('office')" class="bg-blue-700 px-3 py-2 rounded">Copo Escrit√≥rio</button>

<h2 class="font-bold mt-6">Cafe√≠na</h2>
<p id="caffeine-progress"></p>
<button onclick="drinkCoffee(80)" class="bg-yellow-500 px-3 py-2 rounded">Caf√© Pequeno</button>
<button onclick="drinkCoffee(120)" class="bg-yellow-700 px-3 py-2 rounded">Caf√© Grande</button>

<h2 class="font-bold mt-6">Prop√≥sito</h2>
<input id="purpose-name" placeholder="Nome" class="w-full bg-[#1E2128] p-2 rounded mb-2">
<input id="purpose-days" type="number" placeholder="Dias" class="w-full bg-[#1E2128] p-2 rounded mb-2">
<button onclick="createPurpose()" class="bg-green-600 px-3 py-2 rounded">Criar</button>
<div id="purpose-list" class="mt-4"></div>

</div>

<!-- =======================================================
FINAN√áAS
======================================================= -->
<div id="page-financas" class="page hidden p-6 space-y-4">

<h2 class="font-bold">Nova Transa√ß√£o</h2>

<input id="fin-value" type="number" placeholder="Valor" class="w-full bg-[#1E2128] p-2 rounded mb-2">

<select id="fin-type" class="w-full bg-[#1E2128] p-2 rounded mb-2">
<option value="income">Receita</option>
<option value="expense">Despesa</option>
</select>

<label class="flex items-center gap-2">
<input type="checkbox" id="fin-fixed">
Fixa (12 meses)
</label>

<button onclick="addTransaction()" class="bg-green-600 px-3 py-2 rounded">Salvar</button>

<h2 class="font-bold mt-6">Extrato</h2>
<div id="finance-list"></div>

</div>

<!-- =======================================================
VE√çCULO
======================================================= -->
<div id="page-veiculo" class="page hidden p-6 space-y-4">

<h2 class="font-bold">Abastecimento</h2>

<input id="fuel-liters" type="number" placeholder="Litros" class="w-full bg-[#1E2128] p-2 rounded mb-2">
<input id="fuel-value" type="number" placeholder="Valor" class="w-full bg-[#1E2128] p-2 rounded mb-2">

<button onclick="addFuel()" class="bg-orange-600 px-3 py-2 rounded">Registrar</button>

<h2 class="font-bold mt-6">Hist√≥rico</h2>
<div id="vehicle-list"></div>

</div>

<!-- =======================================================
AJUSTES
======================================================= -->
<div id="page-ajustes" class="page hidden p-6 space-y-4">

<h2 class="font-bold">Perfil</h2>

<input id="set-name" placeholder="Nome" class="w-full bg-[#1E2128] p-2 rounded mb-2">
<input id="set-weight" type="number" placeholder="Peso (kg)" class="w-full bg-[#1E2128] p-2 rounded mb-2">
<input id="set-age" type="number" placeholder="Idade" class="w-full bg-[#1E2128] p-2 rounded mb-2">

<button onclick="saveProfile()" class="bg-blue-600 px-3 py-2 rounded">Salvar</button>

<h2 class="font-bold mt-6">Plano</h2>
<button onclick="upgradePlan()" class="bg-purple-600 px-3 py-2 rounded">Virar Premium</button>

</div>

<!-- =======================================================
MENU
======================================================= -->
<nav class="fixed bottom-0 w-full max-w-md bg-[#1E2128] flex justify-around p-4">

<button onclick="navigate('home')">Home</button>
<button onclick="navigate('saude')">Sa√∫de</button>
<button onclick="navigate('financas')">Finan√ßas</button>
<button onclick="navigate('veiculo')">Ve√≠culo</button>
<button onclick="navigate('ajustes')">Ajustes</button>

</nav>

</div>

<!-- =======================================================
JAVASCRIPT COMPLETO
======================================================= -->
<script>

/* =======================================================
1Ô∏è‚É£ ESTADO GLOBAL
======================================================= */

let appState = {
profile: { name:"Usu√°rio", weight:80, age:30, plan:"free" },
health: { waterGoal:0, waterConsumed:0, caffeineGoal:0, caffeineConsumed:0, cupHome:250, cupOffice:473 },
finances: { transactions:[] },
vehicle: { records:[] },
purposes: []
};

/* =======================================================
2Ô∏è‚É£ PERSIST√äNCIA
======================================================= */

function saveState(){
localStorage.setItem("appState", JSON.stringify(appState));
}

function loadState(){
let data = localStorage.getItem("appState");
if(data){ appState = JSON.parse(data); }
}

loadState();

/* =======================================================
3Ô∏è‚É£ UTILIT√ÅRIOS
======================================================= */

function generateId(){
return Date.now() + Math.random();
}

function formatCurrency(v){
return v.toLocaleString("pt-BR",{style:"currency",currency:"BRL"});
}

/* =======================================================
4Ô∏è‚É£ SA√öDE
======================================================= */

function calculateWaterGoal(){
let base = appState.profile.weight * 35;
if(appState.profile.age>55) base*=1.1;
if(appState.profile.age<18) base*=1.05;
appState.health.waterGoal = Math.round(base);
}

function calculateCaffeineGoal(){
appState.health.caffeineGoal = appState.profile.weight * 3;
}

function drinkWater(type){
let amount = type==="home" ? appState.health.cupHome : appState.health.cupOffice;
appState.health.waterConsumed += amount;
saveState();
renderHealth();
}

function drinkCoffee(mg){
appState.health.caffeineConsumed += mg;
saveState();
renderHealth();
}

function renderHealth(){
document.getElementById("water-progress").innerText =
`${appState.health.waterConsumed}ml / ${appState.health.waterGoal}ml`;

document.getElementById("caffeine-progress").innerText =
`${appState.health.caffeineConsumed}mg / ${appState.health.caffeineGoal}mg`;
}

/* =======================================================
5Ô∏è‚É£ PROP√ìSITO
======================================================= */

function createPurpose(){
if(appState.profile.plan==="free" && appState.purposes.length>=1){
alert("Plano Free permite 1 prop√≥sito.");
return;
}

let name = document.getElementById("purpose-name").value;
let days = parseInt(document.getElementById("purpose-days").value);

appState.purposes.push({
id:generateId(),
name,
days,
start:new Date().toISOString()
});

saveState();
renderPurposes();
}

function renderPurposes(){
let div=document.getElementById("purpose-list");
div.innerHTML="";
appState.purposes.forEach(p=>{
let start=new Date(p.start);
let diff=Math.floor((new Date()-start)/(1000*60*60*24));
div.innerHTML+=`<p>${p.name}: Dia ${diff} de ${p.days}</p>`;
});
}

/* =======================================================
6Ô∏è‚É£ FINAN√áAS
======================================================= */

function addTransaction(){

let value=parseFloat(document.getElementById("fin-value").value);
let type=document.getElementById("fin-type").value;
let fixed=document.getElementById("fin-fixed").checked;

let base={
id:generateId(),
value,
type,
date:new Date().toISOString()
};

if(fixed){
for(let i=0;i<12;i++){
let d=new Date();
d.setMonth(d.getMonth()+i);
appState.finances.transactions.push({...base,id:generateId(),date:d.toISOString()});
}
}else{
appState.finances.transactions.push(base);
}

saveState();
renderFinances();
renderHome();
}

function renderFinances(){
let div=document.getElementById("finance-list");
div.innerHTML="";
appState.finances.transactions.forEach(t=>{
div.innerHTML+=`<p>${t.type==="income"?"+":"-"} ${formatCurrency(t.value)}</p>`;
});
}

function calculateBalance(){
let total=0;
appState.finances.transactions.forEach(t=>{
if(t.type==="income") total+=t.value;
else total-=t.value;
});
return total;
}

/* =======================================================
7Ô∏è‚É£ VE√çCULO
======================================================= */

function addFuel(){
let liters=parseFloat(document.getElementById("fuel-liters").value);
let value=parseFloat(document.getElementById("fuel-value").value);

appState.vehicle.records.push({liters,value,date:new Date().toISOString()});

appState.finances.transactions.push({
id:generateId(),
value,
type:"expense",
date:new Date().toISOString()
});

saveState();
renderVehicle();
renderFinances();
renderHome();
}

function renderVehicle(){
let div=document.getElementById("vehicle-list");
div.innerHTML="";
appState.vehicle.records.forEach(r=>{
div.innerHTML+=`<p>${r.liters}L - ${formatCurrency(r.value)}</p>`;
});
}

/* =======================================================
8Ô∏è‚É£ ASSINATURA
======================================================= */

function upgradePlan(){
appState.profile.plan="premium";
saveState();
renderPlan();
}

function renderPlan(){
document.getElementById("plan-badge").innerText =
appState.profile.plan==="premium"?"Premium":"Free";
}

/* =======================================================
9Ô∏è‚É£ HOME
======================================================= */

function renderHome(){
document.getElementById("home-balance").innerText =
formatCurrency(calculateBalance());

document.getElementById("home-water").innerText =
`${appState.health.waterConsumed}/${appState.health.waterGoal} ml`;

document.getElementById("home-caffeine").innerText =
`${appState.health.caffeineConsumed}/${appState.health.caffeineGoal} mg`;

if(appState.purposes.length>0){
let p=appState.purposes[0];
let start=new Date(p.start);
let diff=Math.floor((new Date()-start)/(1000*60*60*24));
document.getElementById("home-purpose").innerText=
`${p.name}: Dia ${diff} de ${p.days}`;
}else{
document.getElementById("home-purpose").innerText="Nenhum";
}
}

/* =======================================================
üîü NAVEGA√á√ÉO
======================================================= */

function navigate(page){
document.querySelectorAll(".page").forEach(p=>p.classList.add("hidden"));
document.getElementById("page-"+page).classList.remove("hidden");
document.getElementById("header-title").innerText=page.charAt(0).toUpperCase()+page.slice(1);
}

/* =======================================================
INICIALIZA√á√ÉO
======================================================= */

calculateWaterGoal();
calculateCaffeineGoal();
renderHealth();
renderPurposes();
renderFinances();
renderVehicle();
renderPlan();
renderHome();

</script>

</body>
</html>